(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{8588:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return a(5465)}])},5465:function(e,r,a){"use strict";a.r(r),a.d(r,{__N_SSP:function(){return c},default:function(){return signup}});var n=a(5893),s=a(7294),t=a(9008),i=a.n(t),o=a(4582),l=a.n(o),signup_form=function(){let[e,r]=(0,s.useState)(""),[a,t]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(!1),[_,p]=(0,s.useState)("");async function submitHandler(e){if(e.preventDefault(),!/^[a-z0-9]+(-[a-z0-9]+)*$/g.test(a)){p("Requires lowercase letters, numbers, or hyphens.");return}m(!0);try{let e=await createUser(a,o,d);e.error?(r(e.error),m(!1)):window.location.href="/login?signup=ok"}catch(e){r("Something went wrong!"),m(!1)}}async function createUser(e,r,a){let n=await fetch("/api/auth/signup",{method:"POST",body:JSON.stringify({username:e,email:r,password:a}),header:{"Content-Type":"application/json"}});return await n.json()}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Signup"}),(0,n.jsx)("link",{rel:"icon",href:"/images/favicon.ico"})]}),(0,n.jsxs)("div",{className:l().dashboard+" mx-auto max-w-[400px] h-[50vh] flex flex-col justify-center",children:[(0,n.jsx)("h1",{children:"Signup"}),(0,n.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:submitHandler,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,n.jsxs)("div",{className:"mt-1",children:[(0,n.jsx)("input",{type:"text",id:"username",required:!0,className:_?l().error:"",onKeyUp:function(){p("")},onChange:e=>t(e.target.value)}),_?(0,n.jsx)("span",{className:"text-sm text-rose-600",children:_}):null]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)("input",{type:"text",id:"email",required:!0,onChange:e=>c(e.target.value)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)("input",{type:"password",id:"password",required:!0,onChange:e=>u(e.target.value)})})]}),(0,n.jsx)("div",{children:h?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{type:"button",className:"button-wait w-full",disabled:"",children:[(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Create Account"]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{className:"button-primary w-full",type:"submit",children:"Create Account"})})}),e?(0,n.jsx)("div",{className:"text-rose-600",children:e}):null]})]})]})},c=!0,signup=function(e){return!e.mainHost||e.noSignup?null:e.invalidDomain?(0,n.jsx)(n.Fragment,{children:"Invalid Domain"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:"Signup"}),(0,n.jsx)("link",{rel:"icon",href:"/images/favicon.ico"})]}),(0,n.jsx)(signup_form,{})]})}},4582:function(e){e.exports={dashboard:"Dashboard_dashboard__BvGi5",error:"Dashboard_error__8LlNJ",tab:"Dashboard_tab__MdpvK",tabactive:"Dashboard_tabactive__rQqqZ",modal:"Dashboard_modal__JK7nl",modal2:"Dashboard_modal2__4X49t",card:"Dashboard_card__aNrPS",onlineinfo:"Dashboard_onlineinfo__PSbE5",cardbutton:"Dashboard_cardbutton__rGPn_",more:"Dashboard_more__nLP9h",moremenu:"Dashboard_moremenu__zEdiY",active:"Dashboard_active__9N81C",menuseparator:"Dashboard_menuseparator__Bu9Hr",inputrows:"Dashboard_inputrows__fTSK1",inputrowsfooter:"Dashboard_inputrowsfooter__lewcN",user:"Dashboard_user__JkZEj"}},9008:function(e,r,a){e.exports=a(9201)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8588)}),_N_E=e.O()}]);