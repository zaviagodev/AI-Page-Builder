(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(8378)}])},8378:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return f},default:function(){return pages_admin}});var t=a(5893),n=a(7294),r=a(3299),i=a(4402),l=a(4582),o=a.n(l),c=a(4604),d=a(4080),m=a(9709),h=a(335),src_user=function(e){var s;let[a,r]=(0,n.useState)(!1),[l,u]=(0,n.useState)(!1),[x,j]=(0,n.useState)({}),[p,v]=(0,n.useState)(e.email),[f,g]=(0,n.useState)(!1),[w,b]=(0,n.useState)(""),[N,y]=(0,n.useState)(e.domainName),[_,k]=(0,n.useState)(e.enabled),F=(0,n.useRef)(null);async function settingsHandler(e){e.preventDefault(),u(!0),b(""),g(!1)}async function saveHandler(s){s.preventDefault(),j({mode:"wait",text:"Saving.."});let a={username:e.username,email:p,newpassword:w,domainName:N,inactive:!_},t=await fetch("/api/usersettings",{method:"POST",body:JSON.stringify(a),header:{"Content-Type":"application/json"}});(t=await t.json()).error?(j({mode:"error",text:t.error}),setTimeout(()=>{j({})},2e3)):e.onUpdate(()=>{j({})})}async function deleteConfirmHandler(e){e.preventDefault(),r(!0)}async function deleteHandler(s){s.preventDefault(),j({mode:"wait",text:"Delete Page.."}),r(!1);let a={username:e.username},t=await fetch("/api/deluser",{method:"POST",body:JSON.stringify(a),header:{"Content-Type":"application/json"}});(t=await t.json()).error?(j({mode:"error",text:t.error}),setTimeout(()=>{j({})},2e3)):e.onUpdate(()=>{j({})})}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:o().user,children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 pl-4 w-1/3",children:[(0,t.jsxs)("h2",{className:"list-title",children:[e.username,e.enabled?"":(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{className:"inactive",children:"Inactive"})})]}),(0,t.jsx)("div",{className:"list-desc",children:e.email})]}),e.domainName?(0,t.jsx)("div",{className:"text-sm text-left",children:e.domainName}):(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"No Domain"}),(0,t.jsxs)(c.v,{as:"div",className:o().more,children:[(0,t.jsx)(c.v.Button,{children:"trash"==(s="more")?(0,t.jsxs)("svg",{style:{width:"25px",height:"25px"},viewBox:"0 0 512 512",children:[(0,t.jsx)("path",{d:"M400 113.3h-80v-20c0-16.2-13.1-29.3-29.3-29.3h-69.5C205.1 64 192 77.1 192 93.3v20h-80V128h21.1l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H400v-14.7zm-193.4-20c0-8.1 6.6-14.7 14.6-14.7h69.5c8.1 0 14.6 6.6 14.6 14.7v20h-98.7v-20zm135 324.6v.8c0 8.1-6.6 14.7-14.6 14.7H186c-8.1 0-14.6-6.6-14.6-14.7v-.8L147.7 128h217.2l-23.3 289.9z"}),(0,t.jsx)("path",{d:"M249 160h14v241h-14zM320 160h-14.6l-10.7 241h14.6zM206.5 160H192l10.7 241h14.6z"})]}):(0,t.jsx)("svg",{style:{width:"25px",height:"25px"},viewBox:"0 0 512 512",children:(0,t.jsx)("path",{d:"M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"})})}),(0,t.jsx)(d.u,{as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,t.jsxs)(c.v.Items,{className:"".concat(o().moremenu," focus:outline-none"),children:[(0,t.jsx)(c.v.Item,{children:e=>{let{active:s}=e;return(0,t.jsx)("button",{className:"".concat(s?o().active:""),title:"Settings",onClick:settingsHandler,children:"Settings"})}}),"admin"!==e.username?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:o().menuseparator}),(0,t.jsx)(c.v.Item,{children:e=>{let{active:s}=e;return(0,t.jsx)("button",{className:" ".concat(s?o().active:""),title:"Delete",onClick:deleteConfirmHandler,children:"Delete"})}})]}):null]})})]})]}),(0,t.jsx)(d.u,{appear:!0,show:l,as:n.Fragment,children:(0,t.jsxs)(m.V,{as:"div",initialFocus:F,className:"".concat(o().dashboard," fixed inset-0 z-10 overflow-y-auto"),onClose:function(){"wait"!==x.mode&&u(!1)},children:[(0,t.jsx)(i.Z,{mode:x.mode,text:x.text,duration:x.duration}),(0,t.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[(0,t.jsx)(d.u.Child,{as:n.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)(m.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),(0,t.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),(0,t.jsx)(d.u.Child,{as:n.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)("div",{className:"".concat(o().modal),children:[(0,t.jsx)(m.V.Title,{as:"h3",children:"User Settings"}),(0,t.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:saveHandler,children:[(0,t.jsx)("div",{children:(0,t.jsxs)("label",{children:["Username: ",e.username]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{ref:F,type:"text",id:"email",required:!0,value:p,onChange:e=>v(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"New Password:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("button",{className:"button-normal",onClick:function(){g(!0),b(function(){let e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$";for(let a=1;a<=8;a++){let a=Math.floor(Math.random()*s.length+1);e+=s.charAt(a)}return e}())},type:"button",children:"Set New Password"})}),f?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"mt-2 flex",children:[(0,t.jsx)("input",{type:"text",id:"newpassword",required:!0,value:w,onChange:e=>b(e.target.value)}),(0,t.jsx)("button",{onClick:function(){g(!1),b("")},className:"button-normal ml-1",type:"button",children:"Cancel"})]})}):null]}),"admin"===e.username?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:(0,t.jsxs)("label",{children:["Main Domain: ",e.domainName]})})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"domain",children:"Custom Domain:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{type:"text",id:"domain",value:N,onChange:e=>y(e.target.value)})})]})}),"admin"!==e.username?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(h.r.Group,{children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)(h.r,{checked:_,onChange:k,className:"".concat(_?"bg-indigo-600":"bg-gray-200"," relative inline-flex items-center h-7 rounded-full w-12 px-0 justify-start"),children:[(0,t.jsx)("span",{className:"sr-only",children:"Active"}),(0,t.jsx)("span",{className:"".concat(_?"translate-x-[23px]":"translate-x-1"," inline-block w-5 h-5 transform bg-white rounded-full")})]}),(0,t.jsx)(h.r.Label,{className:"ml-2",children:"Active"})]})})}):null,(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"button-primary w-full",type:"submit",children:"Update"})})]})]})})]})]})}),(0,t.jsx)(d.u,{appear:!0,show:a,as:n.Fragment,children:(0,t.jsx)(m.V,{as:"div",className:"".concat(o().dashboard," fixed inset-0 z-10 overflow-y-auto"),onClose:function(){r(!1)},children:(0,t.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[(0,t.jsx)(d.u.Child,{as:n.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)(m.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),(0,t.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),(0,t.jsx)(d.u.Child,{as:n.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)("div",{className:"".concat(o().modal),children:[(0,t.jsx)("p",{children:"Are you sure you want to delete this user?"}),(0,t.jsx)("h3",{className:"mt-6 mb-8",children:e.username}),(0,t.jsx)("form",{onSubmit:deleteHandler,children:(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"button-warning w-full",children:"Delete"})})})]})})]})})}),(0,t.jsx)(i.Z,{mode:x.mode,text:x.text,duration:x.duration})]})},adduser=function(e){let[s,a]=(0,n.useState)(!1),[r,l]=(0,n.useState)({}),[c,h]=(0,n.useState)(""),[u,x]=(0,n.useState)(""),[j,p]=(0,n.useState)(""),[v,f]=(0,n.useState)("");async function submitHandler(s){if(s.preventDefault(),!/^[a-z0-9]+(-[a-z0-9]+)*$/g.test(c)){f("Requires lowercase letters, numbers, or hyphens.");return}l({mode:"wait",text:"Adding User.."});let t=await createUser(c,u,j);t.error?l({mode:"error",text:t.error}):(l({}),a(!1),e.onAdd())}async function createUser(e,s,a){try{let t=await fetch("/api/auth/signup",{method:"POST",body:JSON.stringify({username:e,email:s,password:a}),header:{"Content-Type":"application/json"}});return t=await t.json()}catch(e){return{error:e}}}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{className:"button-normal w-full justify-start items-center gap-2",onClick:()=>a(!0),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user-plus",children:[(0,t.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,t.jsx)("line",{x1:"19",x2:"19",y1:"8",y2:"14"}),(0,t.jsx)("line",{x1:"22",x2:"16",y1:"11",y2:"11"})]}),"Add User"]}),(0,t.jsx)(d.u,{appear:!0,show:s,as:n.Fragment,children:(0,t.jsxs)(m.V,{as:"div",className:"".concat(o().dashboard," fixed inset-0 z-10 overflow-y-auto"),onClose:function(){"wait"!==r.mode&&a(!1)},children:[(0,t.jsx)(i.Z,{mode:r.mode,text:r.text,duration:r.duration}),(0,t.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[(0,t.jsx)(d.u.Child,{as:n.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)(m.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),(0,t.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),(0,t.jsx)(d.u.Child,{as:n.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)("div",{className:"".concat(o().modal),children:[(0,t.jsx)(m.V.Title,{as:"h3",children:"Add User"}),(0,t.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:submitHandler,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{type:"text",id:"username",required:!0,className:v?o().error:"",onKeyUp:function(){f("")},onChange:e=>h(e.target.value)}),v?(0,t.jsx)("span",{className:"text-sm text-rose-600",children:v}):null]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{type:"text",id:"email",required:!0,onChange:e=>x(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{type:"password",id:"password",required:!0,onChange:e=>p(e.target.value)})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"button-primary w-full",type:"submit",children:"Add User"})})]})]})})]})]})})]})},admin=function(){let[e,s]=(0,n.useState)(),[a,i]=(0,n.useState)(!1);async function getUsers(e){fetch("/api/users").then(e=>e.json()).then(async a=>{if(a.error){if(401===a.status){await (0,r.signOut)({redirect:!1});return}console.log(a.error)}e&&e(),s(a)})}async function logoutHandler(){await (0,r.signOut)({redirect:!1}),window.location.href="/admin"}return(0,n.useEffect)(()=>{getUsers()},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:o().dashboard,children:[(0,t.jsx)("div",{className:"".concat(a?"sidebar-overlay":""),onClick:()=>i(!1)}),(0,t.jsx)("div",{className:"main-sidebar ".concat(a?"active":""),children:(0,t.jsxs)("div",{className:"sidebar-menu-sec",children:[(0,t.jsxs)("button",{className:"close-sidebar-btn",onClick:()=>i(!1),children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevrons-left",children:[(0,t.jsx)("path",{d:"m11 17-5-5 5-5"}),(0,t.jsx)("path",{d:"m18 17-5-5 5-5"})]}),"Close"]}),(0,t.jsx)(adduser,{onAdd:getUsers})]})}),(0,t.jsx)("div",{className:"topbar",children:(0,t.jsxs)("div",{className:"topbar-menu",children:[(0,t.jsx)("button",{className:"open-sidebar-btn",onClick:()=>i(!0),children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevrons-right",children:[(0,t.jsx)("path",{d:"m6 17 5-5-5-5"}),(0,t.jsx)("path",{d:"m13 17 5-5-5-5"})]})}),(0,t.jsxs)(c.v,{as:"div",className:o().more+" ml-2",children:[(0,t.jsx)(c.v.Button,{children:"MENU"}),(0,t.jsx)(d.u,{as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,t.jsxs)(c.v.Items,{className:"".concat(o().moremenu," focus:outline-none topbar-moremenu"),children:[(0,t.jsx)(c.v.Item,{children:e=>{let{active:s}=e;return(0,t.jsxs)("button",{className:"".concat(s?o().active:""),title:"Logout",onClick:()=>window.location.href="/dashboard",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-hotel",children:[(0,t.jsx)("path",{d:"M10 22v-6.57"}),(0,t.jsx)("path",{d:"M12 11h.01"}),(0,t.jsx)("path",{d:"M12 7h.01"}),(0,t.jsx)("path",{d:"M14 15.43V22"}),(0,t.jsx)("path",{d:"M15 16a5 5 0 0 0-6 0"}),(0,t.jsx)("path",{d:"M16 11h.01"}),(0,t.jsx)("path",{d:"M16 7h.01"}),(0,t.jsx)("path",{d:"M8 11h.01"}),(0,t.jsx)("path",{d:"M8 7h.01"}),(0,t.jsx)("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"})]}),"Dashboard"]})}}),(0,t.jsx)(c.v.Item,{children:e=>{let{active:s}=e;return(0,t.jsxs)("button",{className:"".concat(s?o().active:""),title:"Logout",onClick:logoutHandler,children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out",children:[(0,t.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,t.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,t.jsx)("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),"Logout"]})}})]})})]})]})}),(0,t.jsxs)("div",{className:"main-dashboard bg-front-gradient",children:[(0,t.jsx)("h1",{children:"Admin"}),(0,t.jsx)("div",{className:"flex flex-wrap",children:e?e.users.map(e=>(0,t.jsx)(src_user,{username:e.username,email:e.email,domainName:e.domainName,enabled:!e.inactive,onUpdate:getUsers},e._id)):(0,t.jsx)("div",{className:"flex justify-center w-full mt-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"animate-spin w-12 h-12 flex justify-center items-center rounded-full",style:{background:"linear-gradient(90deg, rgb(248, 247, 247) 0%, rgb(44, 44, 46) 100%)"},children:(0,t.jsx)("div",{className:"bg-white w-10 h-10 rounded-full"})}),(0,t.jsx)("p",{children:"Loading..."})]})})})]})]})})},u=a(9008),x=a.n(u),j=a(1664),p=a.n(j),v=a(5130),f=!0,pages_admin=function(e){let{data:s,status:a}=(0,r.useSession)(),n=!1;return(e.owner&&s&&e.owner===s.user.name&&"admin"===s.user.name&&(n=!0),!n&&s)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x(),{children:[(0,t.jsx)("title",{children:"Admin"}),(0,t.jsx)("link",{rel:"icon",href:"/images/favicon.ico"})]}),(0,t.jsx)("div",{className:o().dashboard,children:(0,t.jsxs)("div",{className:"px-12 py-12",children:[(0,t.jsx)("p",{children:"User Not Authorized"}),(0,t.jsx)("p",{className:"mt-3",children:(0,t.jsx)(p(),{href:"/login",children:"Login"})})]})})]}):"loading"===a?(0,t.jsx)(t.Fragment,{}):"authenticated"===a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x(),{children:[(0,t.jsx)("title",{children:"Admin"}),(0,t.jsx)("link",{rel:"icon",href:"/images/favicon.ico"})]}),(0,t.jsx)(admin,{})]}):"unauthenticated"===a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x(),{children:[(0,t.jsx)("title",{children:"Admin"}),(0,t.jsx)("link",{rel:"icon",href:"/images/favicon.ico"})]}),(0,t.jsx)(v.Z,{})]}):void 0}},5130:function(e,s,a){"use strict";var t=a(5893),n=a(3299),r=a(7294),i=a(4582),l=a.n(i);s.Z=function(e){let[s,a]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[j,p]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!1),[g,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search);"ok"===e.get("signup")&&w(!0);let s=e.get("token");s&&handleToken(s)},[]);let handleToken=async s=>{let t=await (0,n.signIn)("credentials",{redirect:!1,token:s});t.error?(a(t.error),f(!1)):e.redirect&&(window.location.href=e.redirect)};function forgotPassword(e){e.preventDefault(),h(!m),x(!1),a("")}async function forgotHandler(e){e.preventDefault(),p(!0);let s=await fetch("/api/requesttoken",{method:"POST",body:JSON.stringify({email:i}),header:{"Content-Type":"application/json"}});(s=await s.json()).error?a(s.error):(a(""),x(!0)),p(!1)}async function submitHandler(s){s.preventDefault(),f(!0);let t=await (0,n.signIn)("credentials",{redirect:!1,email:i,password:c});t.error?(a(t.error),f(!1)):e.redirect&&(window.location.href=e.redirect)}return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:l().dashboard+" login-form",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{children:"Forgot Password"}),u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"mt-6",children:"Password reset instruction has been sent to your email."}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)("a",{className:"underline",href:"#",onClick:forgotPassword,children:"Login"})})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("form",{className:"max-w-[400px] mt-6 space-y-6",onSubmit:forgotHandler,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{type:"email",id:"email",required:!0,onChange:e=>o(e.target.value)})})]}),(0,t.jsx)("div",{children:j?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("button",{type:"button",className:"button-wait w-full",disabled:"",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Reset Your Password"]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{className:"button-primary w-full",type:"submit",children:"Reset Your Password"})})}),s?(0,t.jsx)("div",{className:"text-rose-600",children:s}):null,(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"underline",href:"#",onClick:forgotPassword,children:"Login"})})]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{children:"Login"}),g?(0,t.jsxs)("p",{className:"mt-6 font-semibold",children:["Your account has been created successfully!",(0,t.jsx)("br",{}),"Please login here."]}):null,(0,t.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:submitHandler,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{type:"email",id:"email",required:!0,onChange:e=>o(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{type:"password",id:"password",required:!0,onChange:e=>d(e.target.value)})})]}),(0,t.jsx)("div",{children:v?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("button",{type:"button",className:"button-wait w-full",disabled:"",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Login"]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{className:"button-primary w-full",type:"submit",children:"Login"})})}),s?(0,t.jsx)("div",{className:"text-rose-600",children:s}):null,(0,t.jsx)("div",{children:(0,t.jsx)("a",{className:"underline",href:"#",onClick:forgotPassword,children:"Forgot Password"})})]})]})})})}},4402:function(e,s,a){"use strict";var t=a(5893),n=a(1237),r=a.n(n);s.Z=function(e){return e.mode?"wait"===e.mode?(0,t.jsx)("div",{className:"".concat(r().notif," ").concat(r().wait),children:e.text}):"error"===e.mode?(0,t.jsx)("div",{className:"".concat(r().notif," ").concat(r().error),children:e.text}):(0,t.jsx)("div",{className:e.notif,children:e.text}):null}},4582:function(e){e.exports={dashboard:"Dashboard_dashboard__BvGi5",error:"Dashboard_error__8LlNJ",tab:"Dashboard_tab__MdpvK",tabactive:"Dashboard_tabactive__rQqqZ",modal:"Dashboard_modal__JK7nl",modal2:"Dashboard_modal2__4X49t",card:"Dashboard_card__aNrPS",onlineinfo:"Dashboard_onlineinfo__PSbE5",cardbutton:"Dashboard_cardbutton__rGPn_",more:"Dashboard_more__nLP9h",moremenu:"Dashboard_moremenu__zEdiY",active:"Dashboard_active__9N81C",menuseparator:"Dashboard_menuseparator__Bu9Hr",inputrows:"Dashboard_inputrows__fTSK1",inputrowsfooter:"Dashboard_inputrowsfooter__lewcN",user:"Dashboard_user__JkZEj"}},1237:function(e){e.exports={notif:"Notif_notif__W9gwA",wait:"Notif_wait__NRYHK",error:"Notif_error__yEcXc"}}},function(e){e.O(0,[221,94,774,888,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);