(()=>{var e={};e.id=8026,e.ids=[8026,660],e.modules={3613:e=>{e.exports={notif:"Notif_notif__W9gwA",wait:"Notif_wait__NRYHK",error:"Notif_error__yEcXc"}},1298:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>h,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>u,reportWebVitals:()=>j,routeModule:()=>b,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>g});var i=s(7093),n=s(5244),l=s(1323),r=s(4003),o=s(9597),c=s(3599),d=e([c]);c=(d.then?(await d)():d)[0];let h=(0,l.l)(c,"default"),u=(0,l.l)(c,"getStaticProps"),m=(0,l.l)(c,"getStaticPaths"),x=(0,l.l)(c,"getServerSideProps"),p=(0,l.l)(c,"config"),j=(0,l.l)(c,"reportWebVitals"),g=(0,l.l)(c,"unstable_getStaticProps"),v=(0,l.l)(c,"unstable_getStaticPaths"),f=(0,l.l)(c,"unstable_getStaticParams"),w=(0,l.l)(c,"unstable_getServerProps"),y=(0,l.l)(c,"unstable_getServerSideProps"),b=new i.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:o.default,Document:r.default},userland:c});a()}catch(e){a(e)}})},3599:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__,getServerSideProps:()=>getServerSideProps});var i=s(997),n=s(2336),l=s(7550),r=s(968),o=s.n(r),c=s(1664),d=s.n(c),h=s(1649),u=s(5130),m=e([u]);async function getServerSideProps(e){let t=await (0,l.I)(e);if(t.props.invalidDomain)throw Error("Invalid Domain.");return t}u=(m.then?(await m)():m)[0];let __WEBPACK_DEFAULT_EXPORT__=function(e){let{data:t,status:s}=(0,h.useSession)();return!e.mainHost&&t&&e.owner!==t.user.name?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[i.jsx("title",{children:"Dashboard"}),i.jsx("link",{rel:"icon",href:"/images/favicon.ico"})]}),i.jsx("div",{className:styles.dashboard,children:(0,i.jsxs)("div",{className:"px-12 py-12",children:[i.jsx("p",{children:"User Not Authorized"}),i.jsx("p",{className:"mt-3",children:i.jsx(d(),{href:"/login",children:"Login"})})]})})]}):"loading"===s?i.jsx(i.Fragment,{}):"authenticated"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[i.jsx("title",{children:"Dashboard"}),i.jsx("link",{rel:"icon",href:"/images/favicon.ico"})]}),i.jsx(n.Z,{mainHost:e.mainHost,owner:e.owner})]}):"unauthenticated"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[i.jsx("title",{children:"Dashboard"}),i.jsx("link",{rel:"icon",href:"/images/favicon.ico"})]}),i.jsx(u.Z,{})]}):void 0};a()}catch(e){a(e)}})},2336:(e,t,s)=>{"use strict";s.d(t,{Z:()=>dashboard});var a=s(997),i=s(6689),n=s(1649),l=s(4402),r=s(3825),o=s(4080),c=s(9709),d=s(2987),h=s.n(d);let selectasset=function(e){let[t,s]=(0,i.useState)(!1),n=(0,i.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{className:"button-normal",onClick:function(e){e.preventDefault(),s(!0)},style:{width:45,padding:0},children:function(e,t,s){if("more"===e)return a.jsx("svg",{style:{pointerEvents:"none",userSelect:"none",width:"20px",height:"20px"},viewBox:"0 0 512 512",children:a.jsx("path",{d:"M113.7 304C86.2 304 64 282.6 64 256c0-26.5 22.2-48 49.7-48 27.6 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48zM256 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.3-48 49.8-48 27.5 0 49.7 21.5 49.7 48 0 26.6-22.2 48-49.7 48zM398.2 304c-27.5 0-49.8-21.4-49.8-48 0-26.5 22.2-48 49.8-48 27.5 0 49.8 21.5 49.8 48 0 26.6-22.2 48-49.8 48z"})})}("more",0,0)}),a.jsx(o.u,{appear:!0,show:t,as:i.Fragment,children:a.jsx(c.V,{as:"div",initialFocus:n,className:`${h().dashboard} fixed inset-0 z-10 overflow-y-auto`,onClose:function(){s(!1)},children:(0,a.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(c.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),a.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)("div",{className:`${h().modal}`,style:{width:"90vw",height:"70vh",maxWidth:"850px",paddingTop:"40px"},children:[a.jsx(r.Z,{onPickFile:function(t){e.onPickFile(t),s(!1)},fileType:e.fileType,select:!0}),a.jsx("button",{ref:n,className:"opacity-0"})]})})]})})})]})};var u=s(9965),m=s(335);let site=function(e){let{data:t,status:s}=(0,n.useSession)(),[r,d]=(0,i.useState)(!1),[x,p]=(0,i.useState)({}),j=(0,i.useRef)(null),[g,v]=(0,i.useState)(!1),[f,w]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[N,C]=(0,i.useState)(!1),[k,S]=(0,i.useState)(""),[F,_]=(0,i.useState)(""),[T,P]=(0,i.useState)(""),[L,M]=(0,i.useState)(!1),[O,H]=(0,i.useState)(""),[D,U]=(0,i.useState)(""),[I,V]=(0,i.useState)(""),[$,B]=(0,i.useState)(""),[A,E]=(0,i.useState)(""),[z,W]=(0,i.useState)(""),[Z,R]=(0,i.useState)(""),[G,K]=(0,i.useState)("");async function getSiteInfo(){let e=await fetch("/api/site");e=await e.json(),v(!0),e.domainName&&w(e.domainName),e.favicon&&b(e.favicon),e.trackingId&&S(e.trackingId),e.headerSlug&&_(e.headerSlug),e.footerSlug&&P(e.footerSlug),e.noSignup&&C(e.noSignup),e.customDomainOnly&&M(e.customDomainOnly),e.mailSmtp&&H(e.mailSmtp),e.mailPort&&U(e.mailPort),e.mailUser&&V(e.mailUser),e.mailPassword&&B(e.mailPassword),e.mailFrom&&E(e.mailFrom),e.mailName&&W(e.mailName),e.captchaSiteKey&&R(e.captchaSiteKey),e.captchaSecretKey&&K(e.captchaSecretKey)}async function saveIntegrationsHandler(e){e.preventDefault(),p({mode:"wait",text:"Updating.."});let t=await fetch("/api/siteintegrations",{method:"POST",body:JSON.stringify({captchaSiteKey:Z,captchaSecretKey:G}),header:{"Content-Type":"application/json"}});(t=await t.json()).error?(p({mode:"error",text:"Unable to save."}),setTimeout(()=>{p({})},2e3)):p({})}async function saveSiteHandler(e){e.preventDefault(),p({mode:"wait",text:"Updating.."});let t=await fetch("/api/site",{method:"POST",body:JSON.stringify({domainName:f,favicon:y,trackingId:k,headerSlug:F,footerSlug:T,noSignup:N,customDomainOnly:L}),header:{"Content-Type":"application/json"}});(t=await t.json()).error?(p({mode:"error",text:"Unable to save."}),setTimeout(()=>{p({})},2e3)):p({})}async function saveMailHandler(e){e.preventDefault(),p({mode:"wait",text:"Updating.."});let t=await fetch("/api/sitemail",{method:"POST",body:JSON.stringify({mailSmtp:O,mailPort:D,mailUser:I,mailPassword:$,mailFrom:A,mailName:z}),header:{"Content-Type":"application/json"}});(t=await t.json()).error?(p({mode:"error",text:"Unable to save."}),setTimeout(()=>{p({})},2e3)):p({})}return(0,i.useEffect)(()=>{getSiteInfo()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:"button-normal w-full justify-start gap-2 items-center",onClick:()=>d(!0),children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-settings",children:[a.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),a.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Site Settings"]}),a.jsx(o.u,{appear:!0,show:r,as:i.Fragment,children:(0,a.jsxs)(c.V,{as:"div",initialFocus:j,className:`${h().dashboard} fixed inset-0 z-10 overflow-y-auto`,onClose:function(){"wait"!==x.mode&&d(!1)},children:[a.jsx(l.Z,{mode:x.mode,text:x.text,duration:x.duration}),a.jsx("input",{type:"hidden",ref:j}),(0,a.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(c.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),a.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)("div",{className:`${h().modal}`,style:{maxWidth:"600px"},children:[a.jsx(c.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Site Settings"}),(0,a.jsxs)(u.O.Group,{children:[a.jsx("div",{className:"flex items-start mt-6",children:(0,a.jsxs)(u.O.List,{className:"flex relative z-10 justify-center p-1 space-x-3 bg-gray-100/75 w-50 rounded-lg",children:[a.jsx(u.O,{as:i.Fragment,children:({selected:e})=>a.jsx("button",{className:e?h().tabactive:h().tab,children:"General"})}),a.jsx(u.O,{as:i.Fragment,children:({selected:e})=>a.jsx("button",{className:e?h().tabactive:h().tab,children:"Mail Settings"})}),a.jsx(u.O,{as:i.Fragment,children:({selected:e})=>a.jsx("button",{className:e?h().tabactive:h().tab,children:"Integrations"})})]})}),(0,a.jsxs)(u.O.Panels,{children:[a.jsx(u.O.Panel,{className:h().tabcontent,children:a.jsx("form",{className:"mt-6 space-y-6",onSubmit:saveSiteHandler,children:g?(0,a.jsxs)(a.Fragment,{children:["admin"===t.user.name?a.jsx(a.Fragment,{children:(0,a.jsxs)("label",{children:["Main Domain: ",f]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"domainname",children:"Custom Domain:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"domainname",value:f,onChange:e=>w(e.target.value)})})]}),e.mainHost?null:a.jsx(a.Fragment,{children:a.jsx(m.r.Group,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(m.r,{checked:L,onChange:()=>{M(!L)},className:`${L?"bg-indigo-600":"bg-gray-200"} relative inline-flex items-center h-7 rounded-full w-12 px-0 justify-start`,children:[a.jsx("span",{className:"sr-only",children:"Use custom domain only"}),a.jsx("span",{className:`${L?"translate-x-[23px]":"translate-x-1"} inline-block w-5 h-5 transform bg-white rounded-full`})]}),a.jsx(m.r.Label,{className:"ml-2",children:"Use custom domain only"})]})})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"favicon",children:"Favicon:"}),(0,a.jsxs)("div",{className:"mt-1",style:{display:"flex"},children:[a.jsx("input",{type:"text",id:"favicon",value:y,onChange:e=>b(e.target.value),style:{marginRight:3}}),a.jsx(selectasset,{onPickFile:function(e){b(e)},currentFile:y,fileType:"image"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"trackingid",children:"GA Tracking ID:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"trackingid",value:k,onChange:e=>S(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"header",children:"Use a page as a header:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"header",placeholder:"Enter page slug",value:F,onChange:e=>_(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"footer",children:"Use a page as a footer:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"footer",placeholder:"Enter page slug",value:T,onChange:e=>P(e.target.value)})})]}),"admin"===t.user.name?a.jsx(a.Fragment,{children:a.jsx(m.r.Group,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(m.r,{checked:!N,onChange:()=>{C(!N)},className:`${N?"bg-gray-200":"bg-indigo-600"} relative inline-flex items-center h-7 rounded-full w-12 px-0 justify-start`,children:[a.jsx("span",{className:"sr-only",children:"Enable Signup"}),a.jsx("span",{className:`${N?"translate-x-1":"translate-x-[23px]"} inline-block w-5 h-5 transform bg-white rounded-full`})]}),a.jsx(m.r.Label,{className:"ml-2",children:"Enable Signup"})]})})}):null,a.jsx("div",{children:a.jsx("button",{className:"button-primary w-full",type:"submit",children:"Update"})})]}):a.jsx("p",{children:"Please wait.."})})}),a.jsx(u.O.Panel,{className:h().tabcontent,children:a.jsx("form",{className:"mt-6 space-y-6",onSubmit:saveMailHandler,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex space-x-5",children:[(0,a.jsxs)("div",{className:"w-full",children:[a.jsx("label",{htmlFor:"smtp",children:"SMTP:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"smtp",value:O,onChange:e=>H(e.target.value)})})]}),(0,a.jsxs)("div",{className:"w-[100px]",children:[a.jsx("label",{htmlFor:"port",children:"Port:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"port",value:D,onChange:e=>U(e.target.value)})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"user",children:"User:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"user",value:I,autoComplete:"off",onChange:e=>V(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"pwd",children:"Password:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"password",id:"pwd",value:$,autoComplete:"new-password",onChange:e=>B(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"from",children:"From address:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"from",value:A,onChange:e=>E(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"name",children:"From name:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"name",value:z,onChange:e=>W(e.target.value)})})]}),a.jsx("div",{children:a.jsx("button",{className:"button-primary w-full",type:"submit",children:"Update"})})]}):a.jsx("p",{children:"Please wait.."})})}),a.jsx(u.O.Panel,{className:h().tabcontent,children:a.jsx("form",{className:"mt-6 space-y-6",onSubmit:saveIntegrationsHandler,children:g?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:"reCAPTCHA v2"}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"captchasitekey",children:"Site Key:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"captchasitekey",value:Z,onChange:e=>R(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"captchasecretkey",children:"Secret Key:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"captchasecretkey",value:G,onChange:e=>K(e.target.value)})})]}),a.jsx("div",{children:a.jsx("button",{className:"button-primary w-full",type:"submit",children:"Update"})})]}):a.jsx("p",{children:"Please wait.."})})})]})]})]})})]})]})})]})};var x=s(4604);let src_page=function(e){var t;let{data:s,status:r}=(0,n.useSession)(),[d,u]=(0,i.useState)(!1),[m,p]=(0,i.useState)(!1),[j,g]=(0,i.useState)(!1),v=(0,i.useRef)(null),f=(0,i.useRef)(null),w=(0,i.useRef)(null),[y,b]=(0,i.useState)({}),[N,C]=(0,i.useState)(""),[k,S]=(0,i.useState)(""),[F,_]=(0,i.useState)(""),[T,P]=(0,i.useState)(!1),[L,M]=(0,i.useState)(!1),[O,H]=(0,i.useState)(""),[D,U]=(0,i.useState)(!1),[I,V]=(0,i.useState)([{js:"",head:!1}]),[$,B]=(0,i.useState)([{css:""}]);async function settingsHandler(e){e.preventDefault(),p(!0),getPageSettings()}async function getPageSettings(){P(!1);let t={action:"get",slug:e.slug},s=await fetch("/api/pagesettings",{method:"POST",body:JSON.stringify(t),header:{"Content-Type":"application/json"}});(s=await s.json()).error||(P(!0),s.content.slug&&C(s.content.slug),s.content.title&&S(s.content.title),s.content.desc&&_(s.content.desc),s.content.socialImage&&H(s.content.socialImage),s.content.blank?M(!0):M(!1),setTimeout(()=>{f.current.focus()},0))}async function saveHandler(t){t.preventDefault(),b({mode:"wait",text:"Saving.."});let s={action:"save",slugTarget:e.slug,slug:N,title:k,desc:F,socialImage:O,blank:L},a=await fetch("/api/pagesettings",{method:"POST",body:JSON.stringify(s),header:{"Content-Type":"application/json"}});(a=await a.json()).error?(b({mode:"error",text:a.error}),setTimeout(()=>{b({})},2e3)):e.onUpdate(()=>{b({})})}async function deleteConfirmHandler(e){e.preventDefault(),u(!0)}async function deleteHandler(t){t.preventDefault(),b({mode:"wait",text:"Delete Page.."}),u(!1);let s={slug:e.slug},a=await fetch("/api/delpage",{method:"POST",body:JSON.stringify(s),header:{"Content-Type":"application/json"}});(a=await a.json()).error?(b({mode:"error",text:a.error}),setTimeout(()=>{b({})},2e3)):e.onUpdate(()=>{b({})})}async function publishHandler(t){t.preventDefault(),b({mode:"wait",text:"Publishing.."});let s={slug:e.slug},a=await fetch("/api/publishpage",{method:"POST",body:JSON.stringify(s),header:{"Content-Type":"application/json"}});(a=await a.json()).error?(b({mode:"error",text:a.error}),setTimeout(()=>{b({})},2e3)):e.onUpdate(()=>{b({})})}async function unPublishHandler(t){t.preventDefault(),b({mode:"wait",text:"Unpublishing.."});let s={slug:e.slug},a=await fetch("/api/unpublishpage",{method:"POST",body:JSON.stringify(s),header:{"Content-Type":"application/json"}});(a=await a.json()).error?(b({mode:"error",text:a.error}),setTimeout(()=>{b({})},2e3)):e.onUpdate(()=>{b({})})}async function saveIncludesHandler(t){t.preventDefault(),b({mode:"wait",text:"Saving.."});let s={slug:e.slug,jsIncludes:I,cssIncludes:$},a=await fetch("/api/pageincludes",{method:"POST",body:JSON.stringify(s),header:{"Content-Type":"application/json"}});(a=await a.json()).error?(b({mode:"error",text:a.error}),setTimeout(()=>{b({})},2e3)):b({})}let jsInputChange=(e,t)=>{let{name:s,value:a}=e.target,i=[...I];i[t][s]=a,V(i)},jsCheckboxChange=(e,t)=>{let s=e.target.name,a=e.target.checked,i=[...I];i[t][s]=a,V(i)},jsRemoveClick=e=>{let t=[...I];t.splice(e,1),V(t)},jsAddClick=()=>{V([...I,{js:""}])},cssInputChange=(e,t)=>{let{name:s,value:a}=e.target,i=[...$];i[t][s]=a,B(i)},cssRemoveClick=(e,t)=>{e.preventDefault();let s=[...$];s.splice(t,1),B(s)},cssAddClick=()=>{B([...$,{css:""}])};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:h().card,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 w-full pl-4",children:[(0,a.jsxs)("h2",{className:"list-title",children:[e.slug?"/"+e.slug:"/...home",e.online?a.jsx("div",{className:h().onlineinfo,children:"Published"}):null]}),a.jsx("p",{className:"list-desc",children:e.title?function(e="",t=0){return e.length>=t?e.substring(0,t)+"...":e.substring(0,t)}(e.title,60):""})]}),(0,a.jsxs)("div",{className:"w-full flex justify-end items-center gap-2",children:[e.online?e.mainHost&&"admin"!==s.user.name?a.jsx("a",{className:h().cardbutton,href:"/site/"+s.user.name+"/"+(""===e.slug?"index":e.slug),target:"_blank",children:"View"}):a.jsx("a",{className:h().cardbutton,href:"/"+e.slug,target:"_blank",children:"View"}):null,a.jsx("a",{className:h().cardbutton,href:"/edit?page="+e.slug,target:"_blank",children:"Edit"}),(0,a.jsxs)(x.v,{as:"div",className:h().more,children:[a.jsx(x.v.Button,{children:"trash"==(t="more")?(0,a.jsxs)("svg",{style:{width:"25px",height:"25px"},viewBox:"0 0 512 512",children:[a.jsx("path",{d:"M400 113.3h-80v-20c0-16.2-13.1-29.3-29.3-29.3h-69.5C205.1 64 192 77.1 192 93.3v20h-80V128h21.1l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H400v-14.7zm-193.4-20c0-8.1 6.6-14.7 14.6-14.7h69.5c8.1 0 14.6 6.6 14.6 14.7v20h-98.7v-20zm135 324.6v.8c0 8.1-6.6 14.7-14.6 14.7H186c-8.1 0-14.6-6.6-14.6-14.7v-.8L147.7 128h217.2l-23.3 289.9z"}),a.jsx("path",{d:"M249 160h14v241h-14zM320 160h-14.6l-10.7 241h14.6zM206.5 160H192l10.7 241h14.6z"})]}):a.jsx("svg",{style:{width:"25px",height:"25px"},viewBox:"0 0 512 512",children:a.jsx("path",{d:"M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"})})}),a.jsx(o.u,{as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsxs)(x.v.Items,{className:`${h().moremenu} focus:outline-none`,children:[a.jsx(x.v.Item,{children:({active:e})=>a.jsx("button",{className:`${e?h().active:""}`,title:"Publish",onClick:publishHandler,children:"Publish Draft"})}),e.online?a.jsx(x.v.Item,{children:({active:e})=>a.jsx("button",{className:`${e?h().active:""}`,title:"Unpublish",onClick:unPublishHandler,children:"Unpublish"})}):null,a.jsx(x.v.Item,{children:({active:t})=>a.jsx("a",{className:`${t?h().active:""}`,title:"View Draft",target:"_blank",href:`/draft?page=${e.slug}`,children:"View Draft"})}),a.jsx(x.v.Item,{children:({active:e})=>a.jsx("button",{className:`${e?h().active:""}`,title:"Settings",onClick:settingsHandler,children:"Settings"})}),e.slug?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:h().menuseparator}),a.jsx(x.v.Item,{children:({active:e})=>a.jsx("button",{className:` ${e?h().active:""}`,title:"Delete",onClick:deleteConfirmHandler,children:"Delete"})})]}):null]})})]})]})]}),a.jsx(o.u,{appear:!0,show:d,as:i.Fragment,children:a.jsx(c.V,{as:"div",className:`${h().dashboard} fixed inset-0 z-10 overflow-y-auto`,onClose:function(){u(!1)},children:(0,a.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(c.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),a.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)("div",{className:`${h().modal}`,children:[a.jsx("p",{children:"Are you sure you want to delete this page?"}),(0,a.jsxs)("h3",{className:"mt-6 mb-8",children:["/",e.slug]}),a.jsx("form",{onSubmit:deleteHandler,children:a.jsx("div",{children:a.jsx("button",{className:"button-warning w-full",children:"Delete"})})})]})})]})})}),a.jsx(o.u,{appear:!0,show:m,as:i.Fragment,children:a.jsx(c.V,{as:"div",initialFocus:v,className:`${h().dashboard} fixed inset-0 z-10 overflow-y-auto`,onClose:function(){"wait"!==y.mode&&p(!1)},children:(0,a.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(c.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),a.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)("div",{className:`${h().modal}`,children:[a.jsx(c.V.Title,{as:"h3",children:"Page Settings"}),a.jsx("form",{ref:v,className:"mt-6 space-y-6",onSubmit:saveHandler,children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"slug",children:"Slug:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{ref:f,type:"text",id:"slug",value:N,onChange:e=>C(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",children:"Title:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"title",value:k,onChange:e=>S(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"desc",children:"Description:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"desc",value:F,onChange:e=>_(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"socialImage",children:"Social Image:"}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx("input",{type:"text",id:"socialImage",value:O,onChange:e=>H(e.target.value),style:{marginRight:3}}),a.jsx(selectasset,{onPickFile:function(e){H(e)},currentFile:O,fileType:"image"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"blank",checked:L,onChange:e=>M(e.target.checked)}),a.jsx("label",{htmlFor:"blank",className:"ml-2",children:"Do not use header & footer."})]}),a.jsx("div",{children:a.jsx("button",{className:"button-primary w-full",type:"submit",children:"Update"})})]}):a.jsx(a.Fragment,{children:"Please wait.."})})]})})]})})}),a.jsx(o.u,{appear:!0,show:j,as:i.Fragment,children:a.jsx(c.V,{as:"div",initialFocus:w,className:`${h().dashboard} fixed inset-0 z-10 overflow-y-auto`,onClose:function(){"wait"!==y.mode&&g(!1)},children:(0,a.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(c.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),a.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsx("div",{className:`${h().modal2}`,children:(0,a.jsxs)("form",{ref:w,onSubmit:saveIncludesHandler,children:[a.jsx(c.V.Title,{as:"h3",children:"Includes"}),D?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{style:{marginTop:15},children:"Js Includes:"}),I.map((e,t)=>(0,a.jsxs)("div",{className:h().inputrows+" flex-col",children:[(0,a.jsxs)("div",{className:"flex w-full",children:[a.jsx("input",{type:"text",name:"js",value:e.js,onChange:e=>jsInputChange(e,t)}),(0,a.jsxs)("div",{style:{display:"flex"},children:[1!==I.length&&a.jsx("button",{className:"button-normal",onClick:e=>{e.preventDefault(),jsRemoveClick(t)},children:"Remove"}),I.length-1===t&&a.jsx("button",{className:"button-normal",onClick:jsAddClick,children:"Add"})]})]}),(0,a.jsxs)("label",{className:"flex items-center mt-1 mb-3",children:[a.jsx("input",{type:"checkbox",name:"head",checked:e.head,onChange:e=>jsCheckboxChange(e,t)}),a.jsx("span",{className:"ml-1",children:"Head"})]})]},`list${t}`)),a.jsx("div",{style:{marginTop:15},children:"Css Includes:"}),$.map((e,t)=>(0,a.jsxs)("div",{className:h().inputrows+" flex-row",children:[a.jsx("input",{type:"text",name:"css",value:e.css,onChange:e=>cssInputChange(e,t)}),(0,a.jsxs)("div",{className:"flex",children:[1!==$.length&&a.jsx("button",{className:"button-normal",onClick:e=>cssRemoveClick(e,t),children:"Remove"}),$.length-1===t&&a.jsx("button",{onClick:cssAddClick,className:"button-normal",children:"Add"})]})]},`list${t}`)),a.jsx("div",{className:h().inputrowsfooter,children:a.jsx("button",{className:"button-primary w-full",type:"submit",children:"Save"})})]}):a.jsx(a.Fragment,{children:a.jsx("div",{className:"mt-6",children:"Please wait.."})})]})})})]})})}),a.jsx(l.Z,{mode:y.mode,text:y.text,duration:y.duration})]})},assetbutton=function(){let e=(0,i.useRef)(null),[t,s]=(0,i.useState)(!1);async function openModalHandler(e){e.preventDefault(),s(!0)}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:"button-normal w-full justify-start items-center gap-2",onClick:openModalHandler,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-files",children:[a.jsx("path",{d:"M20 7h-3a2 2 0 0 1-2-2V2"}),a.jsx("path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z"}),a.jsx("path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8"})]}),"Files"]}),a.jsx(o.u,{appear:!0,show:t,as:i.Fragment,children:(0,a.jsxs)(c.V,{as:"div",initialFocus:e,className:`${h().dashboard} fixed inset-0 z-10 overflow-y-auto`,onClose:function(){s(!1)},children:[a.jsx("input",{type:"hidden",ref:e}),(0,a.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(c.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),a.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsx("div",{className:`${h().modal}`,style:{width:"90vw",height:"70vh",maxWidth:"850px",paddingTop:"40px"},children:a.jsx(r.Z,{fileType:"all",select:!1})})})]})]})})]})},addpage=function(e){let[t,s]=(0,i.useState)(!1),[n,r]=(0,i.useState)({}),[d,u]=(0,i.useState)(""),[m,x]=(0,i.useState)(""),[p,j]=(0,i.useState)(""),[g,v]=(0,i.useState)("");async function submitHandler(t){if(t.preventDefault(),!/^[a-z0-9]+(-[a-z0-9]+)*$/g.test(d)){r({}),v("Slug requires lowercase letters, numbers, or hyphens.");return}r({mode:"wait",text:"Create Page.."});let a=await fetch("/api/addpage",{method:"POST",body:JSON.stringify({slug:d,title:m,desc:p}),header:{"Content-Type":"application/json"}});(a=await a.json()).error?(r({mode:"error",text:a.error}),setTimeout(()=>{r({})},2e3)):e.onAdd(()=>{u(""),x(""),j(""),r({}),s(!1)})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:"button-normal w-full justify-start items-center gap-2",onClick:()=>s(!0),children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-plus",children:[a.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),a.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),a.jsx("path",{d:"M9 15h6"}),a.jsx("path",{d:"M12 18v-6"})]}),"Add New Page"]}),a.jsx(o.u,{appear:!0,show:t,as:i.Fragment,children:(0,a.jsxs)(c.V,{as:"div",className:`${h().dashboard} fixed inset-0 z-10 overflow-y-auto`,onClose:function(){"wait"!==n.mode&&s(!1)},children:[a.jsx(l.Z,{mode:n.mode,text:n.text,duration:n.duration}),(0,a.jsxs)("div",{className:"min-h-screen px-4 text-center w-full",children:[a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(c.V.Overlay,{className:"fixed inset-0 backdrop-blur-sm modal-overlay"})}),a.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),a.jsx(o.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)("div",{className:`${h().modal}`,children:[a.jsx(c.V.Title,{as:"h3",children:"Add Page"}),(0,a.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:submitHandler,children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"slug",children:"Slug:"}),(0,a.jsxs)("div",{className:"mt-1",children:[a.jsx("input",{type:"text",id:"slug",required:!0,className:g?h().error:"",onKeyUp:function(){v("")},value:d,onChange:e=>u(e.target.value)}),g?a.jsx("span",{className:"block mt-2 text-sm text-rose-600 leading-tight",children:g}):null]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",children:"Title:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"title",required:!0,value:m,onChange:e=>x(e.target.value)})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"desc",children:"Description:"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{type:"text",id:"desc",value:p,onChange:e=>j(e.target.value)})})]}),a.jsx("div",{children:a.jsx("button",{className:"button-primary w-full",type:"submit",children:"Create"})})]})]})})]})]})})]})},dashboard=function(e){let[t,s]=(0,i.useState)(),[l,r]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),u=window.location.hostname;async function getPages(e){fetch("/api/pages").then(e=>e.json()).then(t=>{e&&e(),s(t)})}async function logoutHandler(){await (0,n.signOut)({redirect:!1})}return(0,i.useEffect)(()=>{getPages()},[]),a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:h().dashboard,children:[a.jsx("div",{className:`${l?"sidebar-overlay":""}`,onClick:()=>r(!1)}),(0,a.jsxs)("div",{className:`main-sidebar ${l?"active":""}`,children:[a.jsx(function(){return(0,a.jsxs)("div",{className:"sidebar-top-logo",children:[(0,a.jsxs)("div",{className:"sidebar-logo",children:[(0,a.jsxs)("svg",{width:"36",height:"37",viewBox:"0 0 36 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[a.jsx("rect",{y:"0.5",width:"36",height:"36",rx:"10",fill:"url(#paint0_linear_756_5718)"}),(0,a.jsxs)("g",{"clip-path":"url(#clip0_756_5718)",children:[a.jsx("path",{d:"M15.5842 7.64939L9.44294 11.0946C8.02924 11.8869 7.1582 13.3526 7.1582 14.938V21.8642C7.1582 23.4496 8.02924 24.9153 9.44294 25.7076L15.6152 29.1703C17.0289 29.9634 18.7701 29.9634 20.183 29.1703L24.0257 27.0154L15.6201 22.2496C14.2169 21.4542 13.3541 19.9948 13.3541 18.4158V11.4825C13.3541 9.79553 14.2813 8.42108 15.5866 7.66764C15.6217 7.64702 15.6135 7.63274 15.5842 7.64939Z",fill:"url(#paint1_linear_756_5718)"}),a.jsx("path",{d:"M28.6944 14.9L28.6977 21.7849C28.6977 21.8182 28.6798 21.8175 28.6798 21.7778C28.6594 20.3042 24.424 17.6394 22.919 16.7963C22.919 16.7963 22.255 16.142 21.8158 15.7621C21.3766 15.3814 21.3554 15.364 21.0279 15.153C20.7435 14.9706 20.4477 14.8278 20.2579 14.7358L20.2399 14.7271C20.0509 14.6359 19.4838 14.3924 19.4838 14.3924C17.529 13.7238 16.9619 13.6628 15.8277 14.5146C15.8277 14.5146 14.5036 15.7621 13.9993 16.8875C13.4949 18.0129 13.367 19.0019 13.5894 19.6253C13.6008 19.6562 13.6081 19.6856 13.6139 19.7134C14.2698 21.3281 14.7261 21.5843 15.8725 22.2275C15.9573 22.2759 16.0469 22.3258 16.1406 22.379L19.0405 23.7177L26 26L20.0248 29.1703C18.6119 29.9634 16.8699 29.9634 15.457 29.1703L9.28393 25.7076C7.87104 24.9153 7 23.4497 7 21.8642V14.9381C7 13.3527 7.87104 11.887 9.28393 11.0947L15.4252 7.64945C15.4553 7.6328 15.4635 7.64707 15.4284 7.66769C15.3576 7.70814 15.2867 7.76604 15.2158 7.839L15.655 7.59314C17.0695 6.80163 18.8124 6.80242 20.2269 7.59473L26.4064 11.0582C27.821 11.8505 28.6936 13.3154 28.6944 14.9Z",fill:"url(#paint2_linear_756_5718)"}),a.jsx("path",{d:"M9.56323 25.8809L15.7558 29.3657C17.1834 30.1612 18.9866 30.1454 20.4157 29.3483L26.6548 25.8674C28.084 25.0695 28.964 23.5975 28.9648 22.0042L28.968 15.0471C28.9689 13.4545 28.0897 11.9825 26.6621 11.187L22.7803 9.02344L22.7306 18.5224C22.7225 20.1079 21.8433 21.5711 20.4206 22.3642L14.1743 25.8499C12.6538 26.6977 10.9484 26.605 9.61049 25.8809C9.57382 25.861 9.53308 25.8642 9.56323 25.8809Z",fill:"url(#paint3_linear_756_5718)"})]}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"paint0_linear_756_5718",x1:"1.04308e-07",y1:"1.24176e-07",x2:"42",y2:"50",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{"stop-color":"#0075E0"}),a.jsx("stop",{offset:"1","stop-color":"#9E00E9"})]}),(0,a.jsxs)("linearGradient",{id:"paint1_linear_756_5718",x1:"15.55",y1:"7.64209",x2:"15.6943",y2:"29.7647",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{"stop-color":"#AD7EE1"}),a.jsx("stop",{offset:"1","stop-color":"#2A64BB"})]}),(0,a.jsxs)("linearGradient",{id:"paint2_linear_756_5718",x1:"7",y1:"11.3921",x2:"29.2559",y2:"24.4194",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{"stop-color":"white"}),a.jsx("stop",{offset:"0.99","stop-color":"#3D48E4"})]}),(0,a.jsxs)("linearGradient",{id:"paint3_linear_756_5718",x1:"12.6244",y1:"29.9543",x2:"27.2916",y2:"10.0516",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{"stop-color":"white"}),a.jsx("stop",{offset:"1","stop-color":"white"})]}),a.jsx("clipPath",{id:"clip0_756_5718",children:a.jsx("rect",{width:"22",height:"23",fill:"white",transform:"translate(7 7)"})})]})]}),a.jsx("div",{className:"sidebar-logo-shadow"})]}),(0,a.jsxs)("span",{className:"flex flex-col text-left w-full ml-2",children:[a.jsx("h2",{className:"sidebar-logo-title",children:"zaviago"}),a.jsx("p",{className:`sidebar-site ${u?"-mt-1.5":"mt-0"}`,children:u||a.jsx(Skeleton,{className:"h-3 w-full rounded-sm"})})]}),(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"18",fill:"none",class:"three-dots",viewBox:"0 0 28 20",children:[a.jsx("path",{fill:"#fff",fillOpacity:"0.01",d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"}),a.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"})]})]})},{}),(0,a.jsxs)("div",{className:"sidebar-menu-sec",children:[(0,a.jsxs)("button",{className:"close-sidebar-btn",onClick:()=>r(!1),children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevrons-left",children:[a.jsx("path",{d:"m11 17-5-5 5-5"}),a.jsx("path",{d:"m18 17-5-5 5-5"})]}),"Close"]}),(0,a.jsxs)("button",{className:"button-normal w-full justify-start items-center gap-2",onClick:()=>{},children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-hotel",children:[a.jsx("path",{d:"M10 22v-6.57"}),a.jsx("path",{d:"M12 11h.01"}),a.jsx("path",{d:"M12 7h.01"}),a.jsx("path",{d:"M14 15.43V22"}),a.jsx("path",{d:"M15 16a5 5 0 0 0-6 0"}),a.jsx("path",{d:"M16 11h.01"}),a.jsx("path",{d:"M16 7h.01"}),a.jsx("path",{d:"M8 11h.01"}),a.jsx("path",{d:"M8 7h.01"}),a.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"})]}),"Dashboard"]}),(0,a.jsxs)("button",{className:"button-normal w-full justify-start items-center gap-2",onClick:()=>window.open("/",{target:"_blank"}),children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-app-window",children:[a.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),a.jsx("path",{d:"M10 4v4"}),a.jsx("path",{d:"M2 8h20"}),a.jsx("path",{d:"M6 4v4"})]}),"View Site"]}),a.jsx(site,{mainHost:e.mainHost,owner:e.owner})]}),(0,a.jsxs)("div",{className:"sidebar-menu-sec",children:[a.jsx("h2",{className:"sidebar-menu-title",children:"Your workspace"}),(0,a.jsxs)("button",{className:"button-normal w-full justify-start items-center gap-2",onClick:()=>{},children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-panel-left",children:[a.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),a.jsx("path",{d:"M9 3v18"})]}),"Pages"]}),a.jsx(addpage,{onAdd:getPages}),a.jsx(assetbutton,{fileType:"all"})]})]}),a.jsx("div",{className:"topbar",children:(0,a.jsxs)("div",{className:"topbar-menu",children:[a.jsx("button",{className:"open-sidebar-btn",onClick:()=>r(!0),children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevrons-right",children:[a.jsx("path",{d:"m6 17 5-5-5-5"}),a.jsx("path",{d:"m13 17 5-5-5-5"})]})}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("button",{className:"bg-transparent",onClick:function(){d(!c),c?(document.body.classList.remove("dark"),localStorage.setItem("mode","light")):(document.body.classList.add("dark"),localStorage.setItem("mode","dark"))},children:c?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-moon",children:a.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}):(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-sun",children:[a.jsx("circle",{cx:"12",cy:"12",r:"4"}),a.jsx("path",{d:"M12 2v2"}),a.jsx("path",{d:"M12 20v2"}),a.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),a.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),a.jsx("path",{d:"M2 12h2"}),a.jsx("path",{d:"M20 12h2"}),a.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),a.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]})}),a.jsx(function(){return(0,a.jsxs)("button",{className:"pro-button",children:[(0,a.jsxs)("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsxs)("g",{"clip-path":"url(#clip0_158_3596)",children:[a.jsx("path",{d:"M5.4621 0.42371L1.55402 2.67061C0.654394 3.18733 0.100098 4.14319 0.100098 5.17716V9.69423C0.100098 10.7282 0.654394 11.6841 1.55402 12.2008L5.4818 14.4591C6.38143 14.9763 7.4895 14.9763 8.38861 14.4591L10.8339 13.0537L5.48491 9.94561C4.59202 9.42681 4.04291 8.47509 4.04291 7.44526V2.92354C4.04291 1.82336 4.63299 0.926985 5.46365 0.435606C5.48595 0.422158 5.48076 0.412847 5.4621 0.42371Z",fill:"url(#paint0_linear_158_3596)"}),a.jsx("path",{d:"M13.8056 5.15218L13.8076 9.64235C13.8076 9.66407 13.7962 9.66356 13.7962 9.6377C13.7833 8.67666 11.088 6.93873 10.1303 6.3889C10.1303 6.3889 9.7077 5.96218 9.42822 5.71442C9.14874 5.46614 9.13526 5.45476 8.92681 5.31718C8.74585 5.19821 8.55763 5.10511 8.43681 5.04511L8.42541 5.03942C8.30511 4.97994 7.94422 4.82114 7.94422 4.82114C6.7003 4.38511 6.33941 4.34528 5.61763 4.9008C5.61763 4.9008 4.77504 5.71442 4.45407 6.44838C4.13311 7.18235 4.0517 7.82735 4.19326 8.2339C4.20052 8.25407 4.20518 8.27321 4.20881 8.29132C4.62622 9.34442 4.91659 9.51149 5.64615 9.93097C5.70007 9.96252 5.75711 9.99511 5.81674 10.0298L7.66215 10.9029L11.1119 12.1525L8.28852 14.4589C7.38941 14.9761 6.28081 14.9761 5.3817 14.4589L1.45341 12.2006C0.554296 11.6839 0 10.728 0 9.69407V5.177C0 4.14304 0.554296 3.18718 1.45341 2.67045L5.36148 0.423556C5.38067 0.412694 5.38585 0.422005 5.36356 0.435453C5.31844 0.461832 5.27333 0.499591 5.22822 0.547177L5.5077 0.386832C6.40785 -0.129375 7.51696 -0.128858 8.41711 0.387867L12.3496 2.64666C13.2497 3.16338 13.805 4.11873 13.8056 5.15218Z",fill:"url(#paint1_linear_158_3596)"}),a.jsx("path",{d:"M1.63125 12.3133L5.57199 14.5861C6.48044 15.1049 7.62792 15.0945 8.5374 14.5747L12.5077 12.3045C13.4172 11.7842 13.9772 10.8242 13.9777 9.78502L13.9798 5.24778C13.9803 4.20916 13.4208 3.24916 12.5124 2.73037L10.0421 1.31934L10.0105 7.51434C10.0053 8.5483 9.44585 9.50261 8.54051 10.0199L4.56555 12.2931C3.59799 12.8461 2.51273 12.7855 1.66133 12.3133C1.63799 12.3004 1.61207 12.3024 1.63125 12.3133Z",fill:"url(#paint2_linear_158_3596)"})]}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"paint0_linear_158_3596",x1:"5.44032",y1:"0.418945",x2:"5.5368",y2:"14.8467",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{"stop-color":"#AD7EE1"}),a.jsx("stop",{offset:"1","stop-color":"#2A64BB"})]}),(0,a.jsxs)("linearGradient",{id:"paint1_linear_158_3596",x1:"1.01379e-07",y1:"2.86441",x2:"14.3381",y2:"11.0536",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{"stop-color":"white"}),a.jsx("stop",{offset:"1","stop-color":"#B0B0B0"})]}),(0,a.jsxs)("linearGradient",{id:"paint2_linear_158_3596",x1:"3.57927",y1:"14.9699",x2:"13.2119",y2:"2.21569",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{"stop-color":"white"}),a.jsx("stop",{offset:"1","stop-color":"white"})]}),a.jsx("clipPath",{id:"clip0_158_3596",children:a.jsx("rect",{width:"14",height:"15",fill:"white"})})]})]}),a.jsx("span",{children:"Pro"})]})},{}),(0,a.jsxs)(x.v,{as:"div",className:h().more+" ml-2",children:[(0,a.jsxs)(x.v.Button,{className:"gap-2",children:["Help",a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-down",children:a.jsx("path",{d:"m6 9 6 6 6-6"})})]}),a.jsx(o.u,{as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsxs)(x.v.Items,{className:`${h().moremenu} focus:outline-none topbar-moremenu`,children:[a.jsx(x.v.Item,{children:({active:e})=>(0,a.jsxs)("button",{className:`${e?h().active:""}`,title:"Documentation",onClick:logoutHandler,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-book-copy",children:[a.jsx("path",{d:"M2 16V4a2 2 0 0 1 2-2h11"}),a.jsx("path",{d:"M5 14H4a2 2 0 1 0 0 4h1"}),a.jsx("path",{d:"M22 18H11a2 2 0 1 0 0 4h11V6H11a2 2 0 0 0-2 2v12"})]}),"Documentation"]})}),a.jsx(x.v.Item,{children:({active:e})=>(0,a.jsxs)("button",{className:`${e?h().active:""}`,title:"Report an issue",onClick:logoutHandler,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-list",children:[a.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),a.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),a.jsx("path",{d:"M12 11h4"}),a.jsx("path",{d:"M12 16h4"}),a.jsx("path",{d:"M8 11h.01"}),a.jsx("path",{d:"M8 16h.01"})]}),"Report an issue"]})}),a.jsx(x.v.Item,{children:({active:e})=>(0,a.jsxs)("button",{className:`${e?h().active:""}`,title:"Go to zaviago.com",onClick:()=>window.location.href="https://zaviago.com",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-panels-top-left",children:[a.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),a.jsx("path",{d:"M3 9h18"}),a.jsx("path",{d:"M9 21V9"})]}),"Go to zaviago.com"]})}),a.jsx(x.v.Item,{children:({active:e})=>(0,a.jsxs)("button",{className:`${e?h().active:""}`,title:"Go to zaviago.com",onClick:()=>window.location.href="https://page.line.me/zaviago",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-badge-help",children:[a.jsx("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),a.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),a.jsx("line",{x1:"12",x2:"12.01",y1:"17",y2:"17"})]}),"Support"]})})]})})]}),(0,a.jsxs)(x.v,{as:"div",className:h().more+" ml-4",children:[a.jsx(x.v.Button,{className:"avatar",children:"A"}),a.jsx(o.u,{as:i.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:a.jsx(x.v.Items,{className:`${h().moremenu} focus:outline-none topbar-moremenu`,children:a.jsx(x.v.Item,{children:({active:e})=>(0,a.jsxs)("button",{className:`${e?h().active:""}`,title:"Logout",onClick:logoutHandler,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out",children:[a.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),a.jsx("polyline",{points:"16 17 21 12 16 7"}),a.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),"Logout"]})})})})]})]})]})}),(0,a.jsxs)("div",{className:"main-dashboard bg-front-gradient",children:[a.jsx("h1",{children:"Dashboard"}),a.jsx("div",{className:"flex flex-wrap",children:t?t.pages.map(t=>a.jsx(src_page,{slug:t.slug,title:t.title,online:t.online,mainHost:e.mainHost,onUpdate:getPages},t.slug)):a.jsx("div",{className:"flex justify-center w-full mt-8",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"animate-spin w-12 h-12 flex justify-center items-center rounded-full",style:{background:"linear-gradient(90deg, rgb(248, 247, 247) 0%, rgb(44, 44, 46) 100%)"},children:a.jsx("div",{className:"bg-white w-10 h-10 rounded-full"})}),a.jsx("p",{children:"Loading..."})]})})})]})]})})}},4402:(e,t,s)=>{"use strict";s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(997),i=s(3613),n=s.n(i);let __WEBPACK_DEFAULT_EXPORT__=function(e){return e.mode?"wait"===e.mode?a.jsx("div",{className:`${n().notif} ${n().wait}`,children:e.text}):"error"===e.mode?a.jsx("div",{className:`${n().notif} ${n().error}`,children:e.text}):a.jsx("div",{className:e.notif,children:e.text}):null}},8013:e=>{"use strict";e.exports=require("mongodb")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[6859,3441,8760,3436,9244,3469,9965,5868,4003,5031,7550,5130,3825],()=>__webpack_exec__(1298));module.exports=s})();