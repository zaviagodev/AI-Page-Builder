(()=>{var e={};e.id=7616,e.ids=[7616,660],e.modules={2987:e=>{e.exports={dashboard:"Dashboard_dashboard__BvGi5",error:"Dashboard_error__8LlNJ",tab:"Dashboard_tab__MdpvK",tabactive:"Dashboard_tabactive__rQqqZ",modal:"Dashboard_modal__JK7nl",modal2:"Dashboard_modal2__4X49t",card:"Dashboard_card__aNrPS",onlineinfo:"Dashboard_onlineinfo__PSbE5",cardbutton:"Dashboard_cardbutton__rGPn_",more:"Dashboard_more__nLP9h",moremenu:"Dashboard_moremenu__zEdiY",active:"Dashboard_active__9N81C",menuseparator:"Dashboard_menuseparator__Bu9Hr",inputrows:"Dashboard_inputrows__fTSK1",inputrowsfooter:"Dashboard_inputrowsfooter__lewcN",user:"Dashboard_user__JkZEj"}},7096:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>v,default:()=>x,getServerSideProps:()=>S,getStaticPaths:()=>g,getStaticProps:()=>b,reportWebVitals:()=>j,routeModule:()=>N,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>D,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>f});var s={};r.r(s),r.d(s,{default:()=>signup,getServerSideProps:()=>getServerSideProps});var a=r(7093),i=r(5244),n=r(1323),o=r(4003),l=r(9597),u=r(997),c=r(6689),d=r(968),h=r.n(d),p=r(2987),m=r.n(p);let signup_form=function(){let[e,t]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[a,i]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[l,d]=(0,c.useState)(!1),[p,_]=(0,c.useState)("");async function submitHandler(e){if(e.preventDefault(),!/^[a-z0-9]+(-[a-z0-9]+)*$/g.test(r)){_("Requires lowercase letters, numbers, or hyphens.");return}d(!0);try{let e=await createUser(r,a,n);e.error?(t(e.error),d(!1)):window.location.href="/login?signup=ok"}catch(e){t("Something went wrong!"),d(!1)}}async function createUser(e,t,r){let s=await fetch("/api/auth/signup",{method:"POST",body:JSON.stringify({username:e,email:t,password:r}),header:{"Content-Type":"application/json"}});return await s.json()}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(h(),{children:[u.jsx("title",{children:"Signup"}),u.jsx("link",{rel:"icon",href:"/images/favicon.ico"})]}),(0,u.jsxs)("div",{className:m().dashboard+" mx-auto max-w-[400px] h-[50vh] flex flex-col justify-center",children:[u.jsx("h1",{children:"Signup"}),(0,u.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:submitHandler,children:[(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"username",children:"Username:"}),(0,u.jsxs)("div",{className:"mt-1",children:[u.jsx("input",{type:"text",id:"username",required:!0,className:p?m().error:"",onKeyUp:function(){_("")},onChange:e=>s(e.target.value)}),p?u.jsx("span",{className:"text-sm text-rose-600",children:p}):null]})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"email",children:"Email:"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{type:"text",id:"email",required:!0,onChange:e=>i(e.target.value)})})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"password",children:"Password:"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{type:"password",id:"password",required:!0,onChange:e=>o(e.target.value)})})]}),u.jsx("div",{children:l?u.jsx(u.Fragment,{children:(0,u.jsxs)("button",{type:"button",className:"button-wait w-full",disabled:"",children:[(0,u.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Create Account"]})}):u.jsx(u.Fragment,{children:u.jsx("button",{className:"button-primary w-full",type:"submit",children:"Create Account"})})}),e?u.jsx("div",{className:"text-rose-600",children:e}):null]})]})]})};var _=r(7550);async function getServerSideProps(e){return(0,_.I)(e)}let signup=function(e){return!e.mainHost||e.noSignup?null:e.invalidDomain?u.jsx(u.Fragment,{children:"Invalid Domain"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(h(),{children:[u.jsx("title",{children:"Signup"}),u.jsx("link",{rel:"icon",href:"/images/favicon.ico"})]}),u.jsx(signup_form,{})]})},x=(0,n.l)(s,"default"),b=(0,n.l)(s,"getStaticProps"),g=(0,n.l)(s,"getStaticPaths"),S=(0,n.l)(s,"getServerSideProps"),v=(0,n.l)(s,"config"),j=(0,n.l)(s,"reportWebVitals"),f=(0,n.l)(s,"unstable_getStaticProps"),w=(0,n.l)(s,"unstable_getStaticPaths"),P=(0,n.l)(s,"unstable_getStaticParams"),y=(0,n.l)(s,"unstable_getServerProps"),D=(0,n.l)(s,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/signup",pathname:"/signup",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:s})},8013:e=>{"use strict";e.exports=require("mongodb")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[6859,3441,4003,5031,7550],()=>__webpack_exec__(7096));module.exports=r})();