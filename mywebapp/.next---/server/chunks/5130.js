exports.id=5130,exports.ids=[5130],exports.modules={2987:e=>{e.exports={dashboard:"Dashboard_dashboard__BvGi5",error:"Dashboard_error__8LlNJ",tab:"Dashboard_tab__MdpvK",tabactive:"Dashboard_tabactive__rQqqZ",modal:"Dashboard_modal__JK7nl",modal2:"Dashboard_modal2__4X49t",card:"Dashboard_card__aNrPS",onlineinfo:"Dashboard_onlineinfo__PSbE5",cardbutton:"Dashboard_cardbutton__rGPn_",more:"Dashboard_more__nLP9h",moremenu:"Dashboard_moremenu__zEdiY",active:"Dashboard_active__9N81C",menuseparator:"Dashboard_menuseparator__Bu9Hr",inputrows:"Dashboard_inputrows__fTSK1",inputrowsfooter:"Dashboard_inputrowsfooter__lewcN",user:"Dashboard_user__JkZEj"}},5130:(e,r,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(r,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var t=s(997),n=s(1649),o=s(6689),i=s(2987),l=s.n(i),d=s(9648),c=e([d]);d=(c.then?(await c)():c)[0];let __WEBPACK_DEFAULT_EXPORT__=function(e){let[r,s]=(0,o.useState)(""),[a,i]=(0,o.useState)(""),[d,c]=(0,o.useState)(""),[h,m]=(0,o.useState)(!1),[u,x]=(0,o.useState)(!1),[_,b]=(0,o.useState)(!1),[j,w]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=new URLSearchParams(window.location.search);"ok"===e.get("signup")&&g(!0);let r=e.get("token");r&&handleToken(r)},[]);let handleToken=async r=>{let a=await (0,n.signIn)("credentials",{redirect:!1,token:r});a.error?(s(a.error),w(!1)):e.redirect&&(window.location.href=e.redirect)};function forgotPassword(e){e.preventDefault(),m(!h),x(!1),s("")}async function forgotHandler(e){e.preventDefault(),b(!0);let r=await fetch("/api/requesttoken",{method:"POST",body:JSON.stringify({email:a}),header:{"Content-Type":"application/json"}});(r=await r.json()).error?s(r.error):(s(""),x(!0)),b(!1)}async function submitHandler(r){r.preventDefault(),w(!0);let t=await (0,n.signIn)("credentials",{redirect:!1,email:a,password:d});t.error?(s(t.error),w(!1)):e.redirect&&(window.location.href=e.redirect)}return t.jsx(t.Fragment,{children:t.jsx("div",{className:l().dashboard+" login-form",children:h?(0,t.jsxs)(t.Fragment,{children:[t.jsx("h1",{children:"Forgot Password"}),u?(0,t.jsxs)(t.Fragment,{children:[t.jsx("p",{className:"mt-6",children:"Password reset instruction has been sent to your email."}),t.jsx("div",{className:"mt-6",children:t.jsx("a",{className:"underline",href:"#",onClick:forgotPassword,children:"Login"})})]}):t.jsx(t.Fragment,{children:(0,t.jsxs)("form",{className:"max-w-[400px] mt-6 space-y-6",onSubmit:forgotHandler,children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"email",children:"Email:"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"email",id:"email",required:!0,onChange:e=>i(e.target.value)})})]}),t.jsx("div",{children:_?t.jsx(t.Fragment,{children:(0,t.jsxs)("button",{type:"button",className:"button-wait w-full",disabled:"",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Reset Your Password"]})}):t.jsx(t.Fragment,{children:t.jsx("button",{className:"button-primary w-full",type:"submit",children:"Reset Your Password"})})}),r?t.jsx("div",{className:"text-rose-600",children:r}):null,t.jsx("div",{children:t.jsx("a",{className:"underline",href:"#",onClick:forgotPassword,children:"Login"})})]})})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("h1",{children:"Login"}),p?(0,t.jsxs)("p",{className:"mt-6 font-semibold",children:["Your account has been created successfully!",t.jsx("br",{}),"Please login here."]}):null,(0,t.jsxs)("form",{className:"mt-6 space-y-6",onSubmit:submitHandler,children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"email",children:"Email:"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"email",id:"email",required:!0,onChange:e=>i(e.target.value)})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"password",children:"Password:"}),t.jsx("div",{className:"mt-1",children:t.jsx("input",{type:"password",id:"password",required:!0,onChange:e=>c(e.target.value)})})]}),t.jsx("div",{children:j?t.jsx(t.Fragment,{children:(0,t.jsxs)("button",{type:"button",className:"button-wait w-full",disabled:"",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Login"]})}):t.jsx(t.Fragment,{children:t.jsx("button",{className:"button-primary w-full",type:"submit",children:"Login"})})}),r?t.jsx("div",{className:"text-rose-600",children:r}):null,t.jsx("div",{children:t.jsx("a",{className:"underline",href:"#",onClick:forgotPassword,children:"Forgot Password"})})]})]})})})};a()}catch(e){a(e)}})}};